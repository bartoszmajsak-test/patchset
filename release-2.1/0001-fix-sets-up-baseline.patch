From fc09040e84f071246c50bbdab8504304a9c97152 Mon Sep 17 00:00:00 2001
From: Bartosz Majsak <bartosz.majsak@gmail.com>
Date: Mon, 13 Dec 2021 11:15:36 +0100
Subject: fix: sets up baseline

---
 .golangci.yml                                 |  2 +-
 Makefile                                      |  2 +-
 cmd/main.go                                   |  8 ++---
 go.mod                                        |  2 +-
 pkg/cmd/version/cmd.go                        |  2 +-
 .../fixtures/latest_release_is_v.0.0.2.json   | 32 +++++++++----------
 pkg/cmd/version/releases.go                   |  4 +--
 pkg/cmd/version/releases_test.go              |  6 ++--
 8 files changed, 29 insertions(+), 29 deletions(-)

diff --git a/.golangci.yml b/.golangci.yml
index a7e1cb2..6b45260 100644
--- a/.golangci.yml
+++ b/.golangci.yml
@@ -30,7 +30,7 @@ linters-settings:
   lll:
     line-length: 180
   goimports:
-    local-prefixes: github.com/bartoszmajsak/template-golang
+    local-prefixes: github.com/bartoszmajsak-test/template-golang
   gocritic:
     enabled-tags:
       - performance
diff --git a/Makefile b/Makefile
index dc67cbd..d7eb454 100644
--- a/Makefile
+++ b/Makefile
@@ -5,7 +5,7 @@ PACKAGE_NAME:=github.com/$(ORG_NAME)/$(PROJECT_NAME)
 PROJECT_DIR:=$(shell pwd)
 BUILD_DIR:=$(PROJECT_DIR)/build
 BINARY_DIR:=$(PROJECT_DIR)/dist
-BINARY_NAME:=binary
+BINARY_NAME:=template
 
 GOPATH_1:=$(shell echo ${GOPATH} | cut -d':' -f 1)
 GOBIN=$(GOPATH_1)/bin
diff --git a/cmd/main.go b/cmd/main.go
index c8b56c8..9609900 100644
--- a/cmd/main.go
+++ b/cmd/main.go
@@ -9,10 +9,10 @@ import (
 	"github.com/spf13/cobra"
 	"github.com/spf13/viper"
 
-	"github.com/bartoszmajsak/template-golang/pkg/cmd/version"
-	"github.com/bartoszmajsak/template-golang/pkg/config"
-	"github.com/bartoszmajsak/template-golang/pkg/format"
-	v "github.com/bartoszmajsak/template-golang/version"
+	"github.com/bartoszmajsak-test/template-golang/pkg/cmd/version"
+	"github.com/bartoszmajsak-test/template-golang/pkg/config"
+	"github.com/bartoszmajsak-test/template-golang/pkg/format"
+	v "github.com/bartoszmajsak-test/template-golang/version"
 )
 
 func main() {
diff --git a/go.mod b/go.mod
index dfc39ba..6505d3c 100644
--- a/go.mod
+++ b/go.mod
@@ -1,4 +1,4 @@
-module github.com/bartoszmajsak/template-golang
+module github.com/bartoszmajsak-test/template-golang
 
 go 1.17
 
diff --git a/pkg/cmd/version/cmd.go b/pkg/cmd/version/cmd.go
index 9103860..d2f30d2 100644
--- a/pkg/cmd/version/cmd.go
+++ b/pkg/cmd/version/cmd.go
@@ -6,7 +6,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/bartoszmajsak/template-golang/version"
+	"github.com/bartoszmajsak-test/template-golang/version"
 )
 
 // NewCmd creates version cmd which prints version and Build details of the executed binary.
diff --git a/pkg/cmd/version/fixtures/latest_release_is_v.0.0.2.json b/pkg/cmd/version/fixtures/latest_release_is_v.0.0.2.json
index a5c8d37..f938426 100644
--- a/pkg/cmd/version/fixtures/latest_release_is_v.0.0.2.json
+++ b/pkg/cmd/version/fixtures/latest_release_is_v.0.0.2.json
@@ -1,8 +1,8 @@
 {
-  "url": "https://api.github.com/repos/bartoszmajsak/template-golang/releases/18367686",
-  "assets_url": "https://api.github.com/repos/bartoszmajsak/template-golang/releases/18367686/assets",
-  "upload_url": "https://uploads.github.com/repos/bartoszmajsak/template-golang/releases/18367686/assets{?name,label}",
-  "html_url": "https://github.com/bartoszmajsak/template-golang/releases/tag/v0.0.2",
+  "url": "https://api.github.com/repos/bartoszmajsak-test/template-golang/releases/18367686",
+  "assets_url": "https://api.github.com/repos/bartoszmajsak-test/template-golang/releases/18367686/assets",
+  "upload_url": "https://uploads.github.com/repos/bartoszmajsak-test/template-golang/releases/18367686/assets{?name,label}",
+  "html_url": "https://github.com/bartoszmajsak-test/template-golang/releases/tag/v0.0.2",
   "id": 18367686,
   "node_id": "MDc6UmVsZWFzZTE4MzY3Njg2",
   "tag_name": "v0.0.2",
@@ -34,7 +34,7 @@
   "published_at": "2019-07-02T18:31:57Z",
   "assets": [
     {
-      "url": "https://api.github.com/repos/bartoszmajsak/template-golang/releases/assets/13516502",
+      "url": "https://api.github.com/repos/bartoszmajsak-test/template-golang/releases/assets/13516502",
       "id": 13516502,
       "node_id": "MDEyOlJlbGVhc2VBc3NldDEzNTE2NTAy",
       "name": "checksums.txt",
@@ -65,10 +65,10 @@
       "download_count": 0,
       "created_at": "2019-07-02T18:31:57Z",
       "updated_at": "2019-07-02T18:31:57Z",
-      "browser_download_url": "https://github.com/bartoszmajsak/template-golang/releases/download/v0.0.2/checksums.txt"
+      "browser_download_url": "https://github.com/bartoszmajsak-test/template-golang/releases/download/v0.0.2/checksums.txt"
     },
     {
-      "url": "https://api.github.com/repos/bartoszmajsak/template-golang/releases/assets/13516504",
+      "url": "https://api.github.com/repos/bartoszmajsak-test/template-golang/releases/assets/13516504",
       "id": 13516504,
       "node_id": "MDEyOlJlbGVhc2VBc3NldDEzNTE2NTA0",
       "name": "ike_0.0.1_Darwin_i386.tar.gz",
@@ -99,10 +99,10 @@
       "download_count": 0,
       "created_at": "2019-07-02T18:31:57Z",
       "updated_at": "2019-07-02T18:31:58Z",
-      "browser_download_url": "https://github.com/bartoszmajsak/template-golang/releases/download/v0.0.2/ike_0.0.1_Darwin_i386.tar.gz"
+      "browser_download_url": "https://github.com/bartoszmajsak-test/template-golang/releases/download/v0.0.2/ike_0.0.1_Darwin_i386.tar.gz"
     },
     {
-      "url": "https://api.github.com/repos/bartoszmajsak/template-golang/releases/assets/13516505",
+      "url": "https://api.github.com/repos/bartoszmajsak-test/template-golang/releases/assets/13516505",
       "id": 13516505,
       "node_id": "MDEyOlJlbGVhc2VBc3NldDEzNTE2NTA1",
       "name": "ike_0.0.1_Darwin_x86_64.tar.gz",
@@ -133,10 +133,10 @@
       "download_count": 0,
       "created_at": "2019-07-02T18:31:57Z",
       "updated_at": "2019-07-02T18:31:58Z",
-      "browser_download_url": "https://github.com/bartoszmajsak/template-golang/releases/download/v0.0.2/ike_0.0.1_Darwin_x86_64.tar.gz"
+      "browser_download_url": "https://github.com/bartoszmajsak-test/template-golang/releases/download/v0.0.2/ike_0.0.1_Darwin_x86_64.tar.gz"
     },
     {
-      "url": "https://api.github.com/repos/bartoszmajsak/template-golang/releases/assets/13516501",
+      "url": "https://api.github.com/repos/bartoszmajsak-test/template-golang/releases/assets/13516501",
       "id": 13516501,
       "node_id": "MDEyOlJlbGVhc2VBc3NldDEzNTE2NTAx",
       "name": "ike_0.0.1_Linux_i386.tar.gz",
@@ -167,10 +167,10 @@
       "download_count": 0,
       "created_at": "2019-07-02T18:31:57Z",
       "updated_at": "2019-07-02T18:31:58Z",
-      "browser_download_url": "https://github.com/bartoszmajsak/template-golang/releases/download/v0.0.2/ike_0.0.1_Linux_i386.tar.gz"
+      "browser_download_url": "https://github.com/bartoszmajsak-test/template-golang/releases/download/v0.0.2/ike_0.0.1_Linux_i386.tar.gz"
     },
     {
-      "url": "https://api.github.com/repos/bartoszmajsak/template-golang/releases/assets/13516503",
+      "url": "https://api.github.com/repos/bartoszmajsak-test/template-golang/releases/assets/13516503",
       "id": 13516503,
       "node_id": "MDEyOlJlbGVhc2VBc3NldDEzNTE2NTAz",
       "name": "ike_0.0.1_Linux_x86_64.tar.gz",
@@ -201,10 +201,10 @@
       "download_count": 37,
       "created_at": "2019-07-02T18:31:57Z",
       "updated_at": "2019-07-02T18:31:58Z",
-      "browser_download_url": "https://github.com/bartoszmajsak/template-golang/releases/download/v0.0.2/ike_0.0.1_Linux_x86_64.tar.gz"
+      "browser_download_url": "https://github.com/bartoszmajsak-test/template-golang/releases/download/v0.0.2/ike_0.0.1_Linux_x86_64.tar.gz"
     }
   ],
-  "tarball_url": "https://api.github.com/repos/bartoszmajsak/template-golang/tarball/v0.0.2",
-  "zipball_url": "https://api.github.com/repos/bartoszmajsak/template-golang/zipball/v0.0.2",
+  "tarball_url": "https://api.github.com/repos/bartoszmajsak-test/template-golang/tarball/v0.0.2",
+  "zipball_url": "https://api.github.com/repos/bartoszmajsak-test/template-golang/zipball/v0.0.2",
   "body": "# Highlights of v0.0.2 release\n\nInspired by @bobbytables talk from [OSCON 2018](https://youtu.be/yhvR02UofZE) we started hacking on open source tooling realizing the idea of safe development on production.\nNow, after long weeks in the making, we are extremely happy to announce the first release of `istio-workspace` project.\n\nWith this toolkit, we strive to enable developers to:\n\n> Develop their microservices locally, using the tools they love!\n>\n> Connect to other services in the cluster and test their changes!\n>\n> All of that without interfering with other developers and users!\n\nAll of it based on [CNCF](https://www.cncf.io/) open source projects such as [Istio](https://istio.io) and [Telepresence](https://telepresence.io).\n\n## How does it work?\n\n-   `ike develop` wraps [Telepresence](https://telepresence.io) and let you start local development while being connected to the real services in the cluster\n\n    -   in addition, it will restart the process when any files have been changed (see `--watch` flag)\n\n-   `istio-workspace` operator takes care of configuring routes in Istio so that only you can hit your service under development\n\nTo learn more head over to the [official docs](https://istio-workspace-docs.netlify.com/istio-workspace/v0.0.2/index.html).\n\n"
 }
diff --git a/pkg/cmd/version/releases.go b/pkg/cmd/version/releases.go
index a6ece51..dd29f5f 100644
--- a/pkg/cmd/version/releases.go
+++ b/pkg/cmd/version/releases.go
@@ -7,7 +7,7 @@ import (
 	"github.com/google/go-github/v41/github"
 	"golang.org/x/net/context"
 
-	"github.com/bartoszmajsak/template-golang/version"
+	"github.com/bartoszmajsak-test/template-golang/version"
 )
 
 func LatestRelease() (string, error) {
@@ -16,7 +16,7 @@ func LatestRelease() (string, error) {
 
 	client := github.NewClient(&httpClient)
 	latestRelease, _, err := client.Repositories.
-		GetLatestRelease(context.Background(), "bartoszmajsak", "template-golang")
+		GetLatestRelease(context.Background(), "bartoszmajsak-test", "template-golang")
 	if err != nil {
 		return "", errors.Wrap(err, "unable to determine latest released version")
 	}
diff --git a/pkg/cmd/version/releases_test.go b/pkg/cmd/version/releases_test.go
index c37f843..b28b309 100644
--- a/pkg/cmd/version/releases_test.go
+++ b/pkg/cmd/version/releases_test.go
@@ -5,15 +5,15 @@ import (
 	. "github.com/onsi/gomega"
 	"gopkg.in/h2non/gock.v1"
 
-	"github.com/bartoszmajsak/template-golang/pkg/cmd/version"
-	v "github.com/bartoszmajsak/template-golang/version"
+	"github.com/bartoszmajsak-test/template-golang/pkg/cmd/version"
+	v "github.com/bartoszmajsak-test/template-golang/version"
 )
 
 var _ = Describe("Fetching latest release", func() {
 
 	BeforeEach(func() {
 		gock.New("https://api.github.com").
-			Get("/repos/bartoszmajsak/template-golang/releases/latest").
+			Get("/repos/bartoszmajsak-test/template-golang/releases/latest").
 			Reply(200).
 			File("fixtures/latest_release_is_v.0.0.2.json")
 	})
-- 
2.31.1

